## FAQ for loopers

Хотите добавить вопросы в ЧаВо? Читайте [инструкции](../make-a-PR.md)

## Общее

### Можно ли скачать установочный файл AndroidAPS?

Нет. Для AndroidAPS не предоставляется загружаемый файл apk. Его надо [скомпилировать](../Installing-AndroidAPS/Building-APK.md) самостоятельно. Причина вот в чем:

AndroidAPS создан для управления помпой и подачи инсулина. В соответствии с действующим Европейским законодательством, все системы, классифицируемые как IIa или IIb, являются медицинскими устройствами, подлежащими обязательной сертификации (получение знака CE), что в свою очередь требует соответствующих исследований и одобрений. Распространение несертифицированных устройств незаконно. Аналогичные законы существуют и в других частях мира.

Это положение не ограничивается торговлей, но относится к любому виду распространения (даже безвозмездному). Создание медицинского устройства для себя является единственным вариантом, не затрагиваемым этими правилами.

Именно поэтому распространение в виде готовых приложений (apk) недоступно.

### С чего начать?

Прежде всего, нужно **подготовить компоненты, которые работают с ипж**:

* Совместимую с AAPS(ИПЖ) инсулиновую помпу 
* Смартфон с Андроидом (Apple iOS не поддерживается AndroidAPS - вместо этого изучите вариант [iOS Loop](https://loopkit.github.io/loopdocs/)) 
* [Система непрерывного мониторинга глюкозы крови (ГК)](../Configuration/BG-Source.md). 

Во-вторых, вам нужно **настроить ваше оборудование**. Смотрите [пример установки с пошаговым руководством](Sample-Setup.md).

В-третьих, вам нужно **настроить компоненты программного обеспечения**: AndroidAPS и источники мониторинга.

В-четвертых, вам нужно изучить и **понять исходный дизайн OpenAPS для проверки параметров лечения**. Фундаментальный принцип замкнутой петли: скорость подачи вашего базала и соотношение инсулин/углеводы должны быть точно выверены. Все рекомендации, выдаваемые ИПЖ предполагают, что ваши базовые потребности в инсулине удовлетворены и любые пики и провалы характеристики ГК - следствие других факторов, требующих дополнительных одноразовых настроек: упражнения, стресс и пр. В настройках ИПЖ введены ограничения безопасности (см. максимально допустимый базальный уровень в [Архитектуре OpenAPS](https://openaps.org/reference-design/)), которые означают, что вам не придется тратить допустимые дозировки на исправление неправильной базы. Например, если перед едой вы часто ставите временную цель на пониженный уровень ГК, вам, скорее всего, требуется настройка базы. Вы можете использовать [автонастройку](http://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/autotune.html#phase-c-running-autotune-for-suggested-adjustments-without-an-openaps-rig) для обработки массива ваших данных и определения необходимости коррекции базальной скорости, фактора чувствительности к инсулину ISF и углеводного коэффициента CR. Либо протестировать и определить скорость базала [старым способом](http://integrateddiabetes.com/basal-testing/).

### Важные практические аспекты

* Если вы считаете необходимым исключить несанкционированное изменение настроек ИПЖ, вы можете закрыть паролем настройку, выбрав в меню "Пароль для настроек" и установив пароль на этот раздел. В следующий раз, когда вы войдете в это меню, система запросит пароль и не позволит поменять их без корректного ввода. Если в дальнейшем вы хотите удалить пароль, зайдите в это меню снова и удалите текст.

* Если вы планируете использовать Android Wear для изменения болюса или настроек, вам нужно удостовериться, что сообщения от ИПЖ не блокируются Подтверждения действий приходят через сообщения (уведомления)

* Если вы снимаете помпу для душа/купания/плавания/спорта и пр, нажмите и удержите текст "Открытый/замкнутый цикл на основном экране и выберите "отключить на..", установив, на сколько часов вы хотите отключить помпу. Это установит скорость подачи базы на "0". Минимальное время отключения определяется минимальной длительностью временной скорости базала на помпе, поэтому, если вы хотите отключить AndroidAPS на более короткий период, или подключили помпу ранее, чем ожидали, нажмите и удерживайте текст "Приостановить (на X минут)", по окончании выберите "Возобновить". когда ИПЖ восстановит работу, ваш активный инсулин будет рассчитан точно.

* Для безопасности, рекомендации системы делаются не на одном показании ГК, а на среднем из последних значений (с учетом скользящей дельты) Поэтому, если вы пропустили несколько показаний, понадобится время на то, чтобы AndroidAPS снова начал компенсацию ГК в режиме замкнутого цикла.

* Вот несколько блогов с полезными советами, которые помогут понять практику работы ИПЖ:
  
  * [Подробные Настройки ](http://seemycgm.com/2017/10/29/fine-tuning-settings/) (см.мой мониторинг)
  * [Почему длительность работы инсулина DIA имеет значение](http://seemycgm.com/2017/08/09/why-dia-matters/) (см. мой мониторинг).
  * [Как ограничить пики после питания](https://diyps.org/2016/07/11/picture-this-how-to-do-eating-soon-mode/) #DIYPS
  * [Гормоны и autosens](http://seemycgm.com/2017/06/06/hormones-2/) (см.мой мониторинг)

### Какое запасное оборудование рекомендуется брать с собой

Прежде всего, вам необходимо иметь стандартный набор для больного диабетом 1го типа. При работе с AndroidAPS настоятельно рекомендуется также иметь:

* запасной аккумулятор для смартфона и (если необходимо) передатчика ГК
* Резервную копию используемых вами приложений: последний APK программного обеспечения AAPS, пароль на хранилище, файл настроек AAPS, файл настроек xDrip и т. д.. Целесообразно использовать для этого облако(DropBox, Yandex. Disk и пр.)...
* Батарейки для помпы

### Как безопасно закрепить трансмиттер ГК/сенсор ГК?

Его можно закрепить при помощи пластыря: В продаже можно найти предварительно прорезанные пластыри для распространенных систем мониторинга (выполните поиск Google или ebay). Некоторые пользователи ИПЖ применяют более дешевые стандартные кинезезиотейпы или лейкопластыри.

Можно его закрепить: В продаже есть готовые эластичные повязки, которыми можно фиксировать сенсор (поищите через Google или ebay).

## AndroidAPS settings

### Влияние настроек

Эта таблица должна помочь вам оптимизировать настройки. Начните сверху и двигайтесь вниз. Старайтесь выверить одну настройку прежде чем переходить к другой. Двигайтесь небольшими шагами, не вносите большие изменения сразу. Можно использовать автонастройку [Autotune](https://autotuneweb.azurewebsites.net/) которая даст общее направление, но принимайте рекомендации не вслепую и не во всех ситуациях. Обратите внимание, что настройки дополняют друг друга - вы можете иметь "неправильные" настройки, которые в некоторых обстоятельствах работают хорошо (например, если слишком высокий базал установлен одновременно со слишком высоким углеводным коэффициентом CR), но в других не работают. Это означает, что нужно учитывать все настройки и убедиться, что они совместно работают в различных обстоятельствах.<table class="tg" border=1> 

<th class="tg-0pky">
  Настройка
</th>

<th class="tg-0pky">
  Описание & тестирование
</th>

<th class="tg-0pky">
  Результат
</th>

<td class="tg-0pky">
  Продолжительность активности инсулина DIA
</td>

<td class="tg-0pky">
  Время, за которое инсулин снижается до нуля.<br /><br />Многими устанавливается слишком непродолжительным. Правильная настройка для большинства - не менее 5 часов, иногда 6 или 7.
</td>

<td class="tg-0pky">
  Слишком малое значение продолжительности действия инсулина DIA может привести к низкой ГК. И наоборот.<br /><br />Если время действия инсулина DIA короткое, AAPS слишком рано посчитает, что предыдущий болюс отработал, и даст больше инсулина при все еще высоком сахаре. (Фактически, алгоритм не выжидает, а продолжает добавлять инсулин, предсказывая, что произойдет). Это, по сути, создает «затоваривание инсулина», о котором ААПС не знает.<br /><br /> Итак, если время DIA слишком короткое, то за высокой ГК последует слишком жесткая коррекция и в результате AAPS приведет к низкой ГК.
</td>

<td class="tg-0pky">
  График базала (ед/ч)
</td>

<td class="tg-0pky">
  Количество инсулина в заданном часовом блоке для поддержания ГК на стабильном уровне.<br /><br />Проверьте настройки, приостановив цикл и не питаясь, скажем, 5 часов после еды, и проследите, как меняется ГК. Повторите тест несколько раз.<br /><br />Если ГК падает, то скорость базы слишком высока. И наоборот.
</td>

<td class="tg-0pky">
  Повышенная скорость подачи базала может привести к низкому уровню ГК. И наоборот.<br /><br />AAPS по умолчанию строит свой алгоритм отталкиваясь от скорости базала. Если базал слишком высокий, то «нулевая временная скорость» будет определяться при большем отрицательном значении активного инсулина IOB, чем нужно. Это приведет к тому, что AAPS будет делать больше корректировок, чем нужно чтобы привести активный инсулин IOB к нулю.<br /><br />Поэтому, слишком высокая база приведет к слишком низкой ГК как из-за высокой базы, так и вследствие корректировок AAPS к цели.<br /><br /> И наоборот, слишком низкая база приведет к высокой гликемии и не поможет снизить уровень ГК до целевого.
</td>

<td class="tg-0pky">
  Чувствительность к инсулину (ISF) (ммоль/л/ед или мг/дл/ед)
</td>

<td class="tg-0pky">
  Снижение ГК, ожидаемое от подачи 1ед инсулина.<br /><br /> Полагая, что база верна, можно проверить ISF, приостановив алгоритм цикла при нулевом активном инсулине IOB и приняв несколько таблеток глюкозы до получения стабильно «высокого» уровня ГК.<br /><br />Затем ввести инсулин (из текущего расчета 1/ISF), чтобы прийти к целевому значению ГК.<br /><br />Будьте осторожны, так довольно часто величина задается слишком низкой. Слишком низкая чувствительность означает, что 1 ед опустит ГК быстрее, чем ожидалось.
</td>

<td class="tg-0pky">
  Более низкая чувствительность ISF = меньшее падение ГК на каждую единицу инсулина (также может называться "более жесткой/агрессивной" или "более сильной"). Если она задана слишком низкой, это может привести к более низким значениям ГК.<br /><br />Более высокая чувствительность ISF = большее падение гликемии на каждую единицу инсулина (может также называться менее жесткой/агрессивной" или "более слабой"). Если она задана слишком высокой, это может привести к более высоким значениям ГК. <br /><br /> Слишком низкая чувствительность ISF (нередкое явление) может приводить к "чрезмерным коррекциям", поскольку AAPS считает, что ему нужно больше инсулина для корректировки высокой гликемии, чем на самом деле. Это может привести к «американским горкам» (особенно если вы поститесь). В этом случае вам нужно увеличить ISF. Это будет означать, что AAPS дает меньшие корректирующие дозы, позволяя избежать чрезмерной коррекции высокой гликемии, приводящей к низким сахарам.<br /><br />И наоборот, слишком высокий ISF может привести к недокорректировкам; ГК останется выше цели – это будет особенно заметно под утро.
</td>

<td class="tg-0pky">
  Углеводный коэффициент - соотношение углеводов и инсулина (CR) (г/ед)
</td>

<td class="tg-0pky">
  Углеводы в граммах на каждую единицу инсулина. <br /><br /> Полагая, что база задана верно, можно проверить этот коэффициент, убедившись в отсутствии активного инсулина IOB при нормальной гликемии. Для этого надо съесть известную пищу с известным количеством углеводов и подав на нее расчетное количество инсулина, основываясь на текущем соотношении 1/CR. Лучше всего есть пищу, которую вы обычно едите в это время дня и точно посчитать ее углеводы.
</td>

<td class="tg-0pky">
  Более низкий углеводный коэффициент CR = меньше еды на единицу инсулина, что означает больше инсулина на фиксированное количество углеводов. Может также называться "более агрессивным".<br /><br /> Более высокий CR = больше еды на единицу инсулина, то есть меньше инсулина на фиксированное количество улеводов. Может также называться "менее агрессивным".<br /><br />Если после усваивания пищи и возвращения активного инсулина IOB к нулю, ГК остается выше прежнего, высока вероятность того, что CR слишком велик. И наоборот, если ГК ниже, чем перед едой, CR слишком мал.
</td></table> 

### Алгоритм APS

#### Почему на вкладке "помощник болюса OPENAPS AMA" время действия инсулина DIA показано как 3, хотя у меня в профиле другая величина?

![Мастер болюса AMA 3 часа](../../images/Screenshot_AMA3h.png) В помощнике болюса AMA "DIA" не означает "длительность действия инсулина". Это параметр, который раньше связывался с DIA. Теперь он означает, 'за какое время нужно завершить коррекцию'. Он не имеет ничего общего с расчетом активного инсулина IOB. В OpenAPS SMB в этом параметре больше нет необходимости.

### Профиль

#### Почему следует устанавливать минимум продолжительности действия инсулина DIA на 5 часов вместо 2-3 часов?

Хорошо объяснено в [этой статье](http://www.diabettech.com/insulin/why-we-are-regularly-wrong-in-the-duration-of-insulin-action-dia-times-we-use-and-why-it-matters/). Не забудьте `АКТИВИРОВАТЬ ПРОФИЛЬ` после изменения продолжительности действия инсулина DIA.

#### Что заставляет алгоритм цикла часто понижать мои СК до гипогликемических значений в отсутствии углеводов COB в организме?

В первую очередь, проверьте значения скорости подачи базала и проверьте работу базы безуглеводным test'ом. Если все верно, то такое поведение обычно вызвано слишком низким значением чувствительности к инсулину ISF. Слишком низкая чувствительность ISF обычно выглядит так.

![чувствительность ISF слишком низкая](../images/isf.jpg)

#### Что вызывает постпрандиальные пики в замкнутом цикле?

В первую очередь, проверьте значения скорости подачи базала и проверьте работу базы безуглеводным test'ом. Если все правильно, и гликемия падает до целевого значения после полного усвоения углеводов, попробуйте за некоторое время до еды установить временную цель "близкий прием пищи" в AAPS или продумайте подходящее время преболюса с вашим эндокринологом. Если гликемия слишком высока после еды и после полного усваивания углеводов, подумайте о снижении соотношения инсулин/углеводы IC с вашим эндокринологом. Если гликемия слишком высока во время усвоении углеводов COB и слишком низка после их полного усвоения, подумайте об увеличении соотношения инсулин/углеводы IC и о надлежащем времени преболюса с эндокринологом.

## Other settings

### Настройки Nightscout

#### Клиент NScout AndroidAPS выдает ошибку 'не разрешено' и не передает данные. Что делать?

В клиенте NSClient проверьте 'Настройки подключения'. Возможно, вы в закрытой для вас зоне WLAN или активировали опцию "подключаться только при зарядке", а ваш кабель зарядки не подключен.

### Настройки мониторинга

#### Почему AndroidAPS выдает сообщение: 'Источник ГК не поддерживает расширенную фильтрацию'?

Если вы используете иной источник данных ГК чем Dexcom G5 или G6 в нативном режиме xDrip, вы получите это уведомление на вкладке OpenAPS. Для более подробной информации см [Сглаживание данных ГК](../Usage/Smoothing-Blood-Glucose-Data-in-xDrip.md).

## Помпа

### Где поместить помпу?

Есть многочисленные возможности размещения помпы. Неважно, вы пользуетесь приложениями ИПЖ или нет. Если вы предпочитаете беспроводные помпы, а у вас Dana для AAPS, попробуйте тридцатисантиметровый катетер с оригинальным поясом для помпы.

### Батареи

Работа в замкнутом цикле быстрее расходует батарею поскольку система больше взаимодействует по блутусу чем обычная помпа в ручном режиме. Лучше менять батарею на 25% так как после этого связь становится затрудненной. Вы можете настроить предупредительные сигналы для батареи помпы через переменную PUMP_WARN_BATT_P на вашем сайте Nightscout. Способы увеличить срок жизни батареи включают:

* уменьшить длительность работы экрана LCD (в меню настроек помпы)
* уменьшить длительность работы подсветки (в меню настроек помпы)
* выберите уведомления в виде звукового сигнала а не вибрации (в меню настроек помпы)
* Нажимайте кнопки помпы только для перезагрузки; для просмотра журналов, уровня батареи и объема резервуара помпы пользуйтесь смартфоном с AndroidAPS.
* На некоторых телефонах AndroidAPS периодически закрывается для экономии энергии или высвобождения оперативной памяти. Когда AndroidAPS вновь инициализируется, то каждом старте устанавливает соединение Bluetooth с помпой и перечитывает текущую базальную скорость и журнал болюсов. Это расходует батарею. Чтобы увидеть, происходит ли это, перейдите в Настройки > NSClient и включите 'Отправлять запуски приложения в NS'. Nightscout будет получать данные о событии при каждом перезапуске AndroidAPS, что облегчит отслеживание проблемы. Чтобы уменьшить расход батареи при таких событиях, в настройках батареи телефона включите AndroidAPS в список разрешенных приложений и тогда монитор расхода энергии перестанет закрывать AAPS.
* протирайте контакты батареи спиртовыми салфетками, чтобы на ней не оставались следы заводской смазки.
* в помпах DanaR/RS процедура запуска батареи отправляет импульс высокого напряжения для устранения заводской пленки (которая предотвращает потерю энергии при хранении), но это не всегда срабатывает на 100%. Либо удалите и заново вставьте батарею 2-3 раза до тех пор, пока на экране помпы заряд батареи не покажет 100%, либо замкните контакты батареи на долю секунды при помощи ключа батареи, чтобы удалить этот налет.
* см. также еще советы для [конкретных типов батареи](../Usage/Accu-Chek-Combo-Tips-for-Basic-usage#battery-type-and-causes-of-short-battery-life) для помпы Combo

### Замена резервуаров и канюль

Замена картриджей не может осуществляться через AndroidAPS, ее следует производить как и раньше, непосредственно через помпу.

* Произведите долгое нажатие на кнопку "Открытый цикл"/"Замкнутый цикл" на вкладке "Домашний экран" AndroidAAPS и выберите "Приостановка цикла на 1ч'
* Отключите помпу и замените резервуар в соответствии с инструкцией помпы.
* После переподключения помпы запустите цикл долгим нажатием на 'Приостановлено (X мин.)'.

Однако замена канюли происходит не через функцию "первичного заполнения инфузионного набора", но заполняет набор и канюлю с помощью болюса, который не отражается в истории болюсов. Это означает, что текущая временная скорость базала не прерывается. На вкладке Действия при помощи кнопки ЗАПОЛНИТЬ задайте то количество инсулина, которое необходимого для заполнения инфузионного набора и начните первичное заполнение. Если этого количества не достаточно, повторите заполнение. Вы можете установить кнопки по умолчанию в Настройках > Другое > Заполнить/Инициировать стандартные количества инсулина. В инструкции к инфузионному набору вы найдете объемы единиц для первичного заполнения в зависимости от длины иглы и длины трубки.

## Hygiene

### Что делать при приеме душа или ванной?

Вы можете снять помпу при приеме душа или ванной. На этот короткий период времени она вам, как правило, не понадобится. Но вы должны сообщить об этом AAPS чтобы расчеты активного инсулина IOB были правильными. Нажмите на поле 'Открытый цикл / Замкнутый цикл' вверху главного экрана. Выберите **'Отсоединить помпу на XY мин'** в зависимости от предполагаемого времени. После переподключения помпы вы можете выбрать 'Продолжить' в том же поле или просто подождите, пока не закончится выбранное вами время отключения. Цикл продолжит работу автоматически.

## Working

В зависимости от вида работы, возможно, вы используете другие методы лечения в рабочие дни. Следует подумать о переключении профиля на ваш планируемый рабочий день (например, более 100% на 8 ч при сидячей работе или менее 100% при активном режиме), высокой или низкой временной цели или сдвиге времени вашего профиля, когда вы встаете гораздо раньше или позже, чем обычно. Если вы используете профили Nightscout, вы можете создать второй профиль (например, дом' и 'работа') и при необходимости переключаться с профиля на профиль.

## Leasure activities

## Sports

## Sex

Можете снять помпу для "свободы" но следует сообщить об этом AAPS, чтобы расчеты активного инсулина IOB были правильными. Нажмите на поле 'Открытый цикл / Замкнутый цикл' вверху главного экрана. Выберите **'Отсоединить помпу на XY мин'** в зависимости от предполагаемого времени. После переподключения помпы вы можете выбрать 'Продолжить' в том же поле или просто подождите, пока не закончится выбранное вами время отключения. Цикл продолжит работу автоматически.

## Drinking alcohol

Употребление алкоголя является рискованным в режиме замкнутого цикла, так как алгоритм ИПЖ не может правильно предсказать влияние алкоголя на ГК. Следует выработать свой собственный метод для подхода к этому вопросу с помощью следующих функций в AndroidAPS:

* Деактивировать режим замкнутого цикла и разбираться с диабетом вручную или
* устанавливать высокие временные цели и отключать незапланированный прием пищи UAM, чтобы избежать увеличения активного инсулина IOB из-за непредусмотренной еды или
* переключить профиль на величину, заметно менее 100% 

При употреблении алкоголя всегда нужно следить за мониторингом, чтобы вручную избежать гипокликемии, потребляя углеводы.

## Sleeping

### Как обеспечить работу цикла ночью без мобильного и WIFI излучения?

Многие пользователи ночью переводят телефон в режим авиаперелета. Если вы хотите, чтобы AAPS поддерживал вас во время сна, действуйте следующим образом (это будет работать только с локальным источником ГК, таким как xDrip+ или с модифицированным приложением Dexcom, но НЕ будет работать, если вы получаете данные ГК с сайта Nightscout):

1. Включите режим авиаперелета на вашем мобильном устройстве.
2. Подождите, пока режим авиаперелета не будет активирован.
3. Включите Блутус.

Теперь вы не принимаете звонки и не подключены к Интернету. Но цикл продолжает работу.

## Travelling

### Как справляться с изменениями часового пояса?

Если у вас DanaR или DanaR для корейского рынка делать ничего не надо. Для других помп смотрите страницу [Пересечение часовых поясов с помпами](../Usage/Timezone-traveling.md) для более подробной информации.

## Hospitalization

Если вы хотите поделиться информацией об AndroidAPS и ИПЖ с врачами, можете распечатать [руководство по AndroidAPS для клиник](../Resources/clinician-guide-to-AndroidAPS.md).

## Medical appointment with your endocrinologist

### Отчетность

Вы можете либо распечатать отчеты вашего сайта Nightscout (https://вашсайт.com/report) или перейти в [репортер Nightscout](https://nightscout-reporter.zreptil.de/)