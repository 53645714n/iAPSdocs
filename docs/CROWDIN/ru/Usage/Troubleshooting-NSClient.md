# Устранение неисправностей клиента Nightscout

Для правильной работы NSClient требуется стабильная коммуникация с сайтом Nightscout. Нестабильная связь приводит к ошибками синхронизации и высокой интенсивности использования данных.

Если никто не контролирует вас на Nightscout, для экономии заряда батареи можно приостановить NSClient или настроить соединение для работы только на wifi и во время подзарядки.

* Как обнаружить нестабильную связь?

Перейдите на вкладку NSClient в AAPS и просмотрите журнал событий. Обычно отклик PING происходит каждые ~ 30 секунд и сообщения о повторном подключении не поступают. Если вы видите много повторных попыток соединения, то это свидетельство проблемы связи. Начиная с версии AndroidAPS 2.0, при обнаружении такого поведения, происходит приостановка NSClient на 15 минут и появляется сообщение "Сбой NSClient".

* перезапуск

В качестве первого шага попробуйте перезапустить Nightcout и затем телефон, чтобы понять, сохраняется ли проблема.

* Проблемы с телефоном

Android может перевести телефон в спящий режим. Убедитесь, что AndroidAPS в опциях питания имеет разрешение на постоянную работу в фоновом режиме. Повторите это при сильном сигнале сети. Попробуйте другой телефон.

* Nightscout

Если вы пользуетесь хостингом Azure попробуйте перейти на Heroku, это помогало многим. Недавно сообщалось о том, что в Azure существует обходной путь -- задать в параметрах приложения HTTP протокол 2.0, и установить WebSockets на ON

* Если все еще приходят сообщения об ошибке...

Проверьте размер базы данных в MLab. 496MB означает, что она заполнена и нуждается в сжатии. [ Следуй инструкциям OpenAPS для проверки размера базы данных ](https://openaps.readthedocs.io/en/latest/docs/Troubleshooting/Rig-NS-communications-troubleshooting.html#mlab-maintenance). Если сжатие не работает, перед удалением наборов данных следует рассмотреть возможность передачи данных AndroidAPS в Data Commons (для исследований). Для этого в документации OpenAPS </a> есть инструкции .</p>